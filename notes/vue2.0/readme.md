# VUE2.0

[vue文档地址](https://cn.vuejs.org/v2/guide/)

## 传统网页开发和Vue的MVVC模式开发区别

### 传统网页开发步骤

请求数据 -> 生成结构 -> 监听变化 -> 元素变化 -> 发送请求 -> 更新结构

缺点

- DOM操作频繁，代码繁杂
- DOM操作和逻辑代码混合，可维护性差
- 模块之间的依赖关系复杂

### 数据驱动视图

#### 单向数据绑定

数据变化会自动更新到对应的元素。

#### 双向数据绑定

对于可输入框等可输入元素，自动将输入内容更新到数据。实现数据和元素内容的双向绑定。

#### VUE的数据驱动视图（MVVM实现）

- M model 模型
- V view 视图
- VM ViewModel 业务逻辑

##### 优势

- 解放DOM操作
- view和model处理分离，降低耦合

#### 组件化开发

将网页功能封装为自定应HTML标签，复用时写自定标签即可

不仅封装结构，可以封装样式和逻辑，提高开发效率和可维护性

## 基础语法

### Vue实例

通过Vue函数创建的对象，以使用Vue的功能

```JavaScript
var vm = new Vue({
  el: "#app",
  data: {
    num: 100,
  },
});
console.log(vm.$el);
console.log(vm.$data.num);
console.log(vm.num);
```

#### `el`

- 用于选取一个DOM元素作为Vue实例的挂载目标;
- 只有挂载元素内部才会被Vue进行处理，外部为普通的HTML元素;
- View层;
- 不可以是body或者html;
- 可以通过 `vm.$mount('#app')`挂载

#### 插值表达式 `{{}}`

- 可以通过插值表达式，为元素动态设置内容
- 只能书写在标签内容区域，内部只能写JavaScript表达式，不能写语句

#### `data`

- 用于存储Vue实例需要使用的数据，值为对象。
- 可以通过`vm.$data.num`或`vm.num`访问，或者直接赋值

## 自定义指令

[自定义指令](https://cn.vuejs.org/v2/guide/custom-directive.html#ad)

指令：使用Vue指令替代传统的DOM的操作，相当于对基础DOM操作的封装。

自定义指令：通过自定义指令，设置Vue内置指令不具备的DOM操作。

### 自定义全局指令

可以被任意Vue实例或组件使用指令

### 自定义局部指令

可以在当前Vue实例或组件内使用的指令

## 过滤器

用于进行文本内容格式化处理。

- `{{}}`插值表达式使用
- `v-bind`使用
- `|` 通过管道符连接使用
- 支持多个过滤器
- 局部过滤器和全局过滤器重名，局部过滤器会层叠掉全局过滤器（执行局部过滤器）

### 全局过滤器 `filter`

可以在任意Vue实例中使用

### 局部过滤器 `filters`

只能在当前Vue实例中使用

## 计算属性 `computed`

Vue的视图不建议书写复杂的逻辑。

可以通过封装函数计算，但是会消耗不必要的性能。

计算属性使用时为属性形式，访问时会自动执行对应函数。

多个相同的调用，只会执行一次，当执行的返回数据有改变，才会再次执行。

### `computed` 和 `methods` 的区别

- `computed` 具有缓存性，`methods` 没有
- `computed` 通过属性名访问，`methods` 需要调用
- `computed` 仅适用于计算操作

### `setter`

计算属性默认只有 `getter`, Vue.js也允许给计算属性设置 `setter`

## 侦听器 `watch`

监听数据变化，并执行指定操作

对象**内部**修改需要设置 `deep` 和 `handler` 进行深度监听

当更改（非替换）对象或数组时，回调函数中的新值和旧值相同，因为他们的引用都指向同一个数组、对象。

修改数组不能通过 length 和索引的方式触发侦听器。要使用数组的方法才可以

## Vue DevTools

调试Vue应用的工具

- 网页应用了Vue.js
- 网页通过http协议打开
- 网页使用Vue.js 而不是 Vue.min.js

## Vue.js 生命周期

实例从创建到运行，再到销毁的过程

[生命周期](https://cn.vuejs.org/v2/guide/instance.html#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%9B%BE%E7%A4%BA)

1. 初始化
2. 挂载
3. 更新
4. 销毁

### 声明周期函数

在特定生命周期执行的函数（钩子）

#### 创建阶段

每个实例只能执行一次

- `beforeCreate` 实例初始化之前调用
- `created` 实例创建后调用（data，和methods都创建完了）
- `beforeMount` 实例挂载之前调用 DOM 还没有渲染完毕
- `mounted` 实例挂载完毕 可以拿到el的值了

#### 运行阶段

按需调用，无次数限制

- `beforeUpdate` 数据更新后，视图更新前调用
- `updated` 视图更新后调用

#### 销毁阶段

- `beforeDestory` 实例销毁之前调用
- `destoryed` 实例销毁后调用
